(function(){"use strict";var e={3335:function(e,s,t){var r=t(9963),a=t(6252);function n(e,s){const t=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(t)}var o=t(3744);const l={},c=(0,o.Z)(l,[["render",n],["__scopeId","data-v-6c851f9c"]]);var i=c,u=t(2201),d=(t(560),t(3577)),p=t(2262),m=t(5121);const v={class:"user-item"},f={class:"item-title"},h=["src"];function w(e,s,t,r,n,o){const l=(0,a.up)("swiper-slide"),c=(0,a.up)("swiper");return(0,a.wg)(),(0,a.j4)(c,{"slides-per-view":3,"space-between":o.swiperStyles.spaceBetween,onSwiper:r.onSwiper,onSlideChange:r.onSlideChange,loop:"true",class:(0,d.C_)(o.swiperClass)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.itemsToDisplay,((e,s)=>((0,a.wg)(),(0,a.j4)(l,{class:"slide",key:s},{default:(0,a.w5)((()=>[(0,a._)("div",v,[(0,a._)("h1",f,(0,d.zw)(e.title),1),(0,a._)("img",{src:e.url,class:"album-image"},null,8,h)])])),_:2},1024)))),128))])),_:1},8,["space-between","onSwiper","onSlideChange","class"])}var g=t(7426),b={components:{Swiper:g.tq,SwiperSlide:g.o5},props:["userItems","selectedUserId","itemType"],computed:{itemsToDisplay(){return"albums"===this.itemType?this.userItems:this.selectedUserId?this.filteredItems:this.userItems},filteredItems(){return this.selectedUserId?this.userItems.filter((e=>e.userId===this.selectedUserId)):[]},swiperClass(){return"albums"===this.itemType?"swiper-albums":"swiper-user-page"},swiperStyles(){return{spaceBetween:"albums"===this.itemType?120:10}}},setup(){const e=e=>{console.log(e)},s=()=>{console.log("slide change")};return{onSwiper:e,onSlideChange:s}}};const I=(0,o.Z)(b,[["render",w],["__scopeId","data-v-1f844188"]]);var _=I;const y=e=>((0,a.dD)("data-v-1e9c69ca"),e=e(),(0,a.Cn)(),e),U={class:"user-page"},k={key:0,class:"user-name"},C=y((()=>(0,a._)("span",{class:"item-title"},"Пользователь:",-1))),P={class:"albums-block"},S=y((()=>(0,a._)("h1",{class:"item-title"},"Альбомы:",-1))),j={class:"posts-block"},D=y((()=>(0,a._)("h1",{class:"item-title"},"Посты:",-1))),O="https://jsonplaceholder.typicode.com/albums",T="https://jsonplaceholder.typicode.com/posts";var A={__name:"UserPage",props:["selectedUser"],setup(e){const s=e,t=(0,p.iH)([]),r=(0,p.iH)([]);return(0,a.bv)((async()=>{try{const[e,s]=await Promise.all([m.Z.get(O),m.Z.get(T)]);t.value=e.data,r.value=s.data}catch(e){console.error(e)}})),(n,o)=>((0,a.wg)(),(0,a.iD)("div",U,[e.selectedUser?((0,a.wg)(),(0,a.iD)("h1",k,[C,(0,a.Uk)(" "+(0,d.zw)(s.selectedUser.name),1)])):(0,a.kq)("",!0),(0,a._)("div",P,[S,(0,a.Wm)(_,{selectedUserId:e.selectedUser?e.selectedUser.id:null,userItems:t.value,itemType:"album"},null,8,["selectedUserId","userItems"])]),(0,a._)("div",j,[D,(0,a.Wm)(_,{selectedUserId:e.selectedUser?e.selectedUser.id:null,userItems:r.value,itemType:"post"},null,8,["selectedUserId","userItems"])])]))}};const H=(0,o.Z)(A,[["__scopeId","data-v-1e9c69ca"]]);var Z=H;const x={class:"users-panel"},z=["onClick"],W="https://jsonplaceholder.typicode.com/users";var L={__name:"UsersList",setup(e){const s=(0,u.tv)(),t=(0,p.iH)([]),n=(0,p.iH)(null),o=(0,p.iH)(!1),l=(0,p.iH)({top:"0",left:"0"});function c(e){o.value&&n.value.id===e.id?v():(v(),n.value=e,o.value=!o.value,i(event),event.stopPropagation())}function i(e){if(e.target){const s=e.target.getBoundingClientRect();l.value.top=s.bottom+"px",l.value.left=s.left+"px"}}function v(){o.value=!1}function f(){v(),s.push({name:"UserPosts",params:{userId:n.value.id,username:n.value.name.toLowerCase()}})}function h(){v(),s.push({name:"UserAlbums",params:{userId:n.value.id,username:n.value.name.toLowerCase()}})}return m.Z.get(W).then((e=>{t.value=e.data,t.value.length>0&&(n.value=t.value[0])})).catch((e=>console.error(e))),(e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"users-list",onClick:v},[(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,(e=>((0,a.wg)(),(0,a.iD)("p",{class:"user-item",key:e.id,onClick:s=>c(e)},(0,d.zw)(e.name),9,z)))),128)),o.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"dropdown-menu",style:(0,d.j5)(l.value),onClick:s[1]||(s[1]=(0,r.iM)((()=>{}),["stop"]))},[(0,a._)("a",{href:"#",class:"dropdown-item",onClick:h},"Перейти к альбомам"),(0,a._)("a",{href:"#",class:"dropdown-item",onClick:s[0]||(s[0]=e=>f(n.value.id))},"Перейти к постам")],4)):(0,a.kq)("",!0)]),(0,a.Wm)(Z,{selectedUser:n.value},null,8,["selectedUser"])]))}};const M=(0,o.Z)(L,[["__scopeId","data-v-114aa670"]]);var q=M,B=t(3907);const K=e=>((0,a.dD)("data-v-75d0af7c"),e=e(),(0,a.Cn)(),e),R={class:"user-posts"},Y={href:"/",class:"link"},E={class:"posts-block"},F={class:"user-name"},G=K((()=>(0,a._)("span",{class:"item-title"},"Пользователь:",-1))),N={class:"post-title"},J={class:"post-body"};var Q={__name:"UserPosts",props:["userId","username"],setup(e){const s=e,t=(0,B.oR)(),r=(0,p.iH)([]);return(0,a.bv)((async()=>{await t.dispatch("fetchUserPosts"),r.value=t.getters.getUserPosts.filter((e=>e.userId===parseInt(s.userId)))})),(e,t)=>{const n=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("a",Y,[(0,a.Wm)(n,{icon:["fas","chevron-left"],class:"icon-arrow"})]),(0,a._)("div",E,[(0,a._)("h1",F,[G,(0,a.Uk)(" "+(0,d.zw)(s.username),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"post-item"},[(0,a._)("h1",N,(0,d.zw)(e.title),1),(0,a._)("p",J,(0,d.zw)(e.body),1)])))),128))])])}}};const V=(0,o.Z)(Q,[["__scopeId","data-v-75d0af7c"]]);var X=V;const $=e=>((0,a.dD)("data-v-7a8545a2"),e=e(),(0,a.Cn)(),e),ee={class:"user-albums"},se={href:"/",class:"link"},te={class:"albums-block"},re={class:"user-name"},ae=$((()=>(0,a._)("span",{class:"item-title"},"Пользователь:",-1)));var ne={__name:"UserAlbums",props:["userId","username"],setup(e){const s=e,t=(0,B.oR)(),r=(0,p.iH)([]);return(0,a.bv)((async()=>{await t.dispatch("fetchUserAlbums"),r.value=t.getters.getUserAlbums.filter((e=>e.albumId===parseInt(s.userId)))})),(e,t)=>{const n=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("div",ee,[(0,a._)("a",se,[(0,a.Wm)(n,{icon:["fas","chevron-left"],class:"icon-arrow"})]),(0,a._)("div",te,[(0,a._)("h1",re,[ae,(0,a.Uk)(" "+(0,d.zw)(s.username),1)]),(0,a.Wm)(_,{userItems:r.value,selectedUserId:parseInt(s.userId,10),itemType:"albums"},null,8,["userItems","selectedUserId"])])])}}};const oe=(0,o.Z)(ne,[["__scopeId","data-v-7a8545a2"]]);var le=oe;const ce=[{path:"/",name:"UsersList",component:q},{path:"/posts/:userId/:username",name:"UserPosts",component:X,props:e=>({userId:e.params.userId,username:e.params.username})},{path:"/albums/:userId/:username",name:"UserAlbums",component:le,props:e=>({userId:e.params.userId,username:e.params.username})}],ie=(0,u.p7)({history:(0,u.PO)("/social-network/"),routes:ce});var ue=ie;const de={userPosts:[],userAlbums:[]},pe={setUserPosts(e,s){e.userPosts=s},setUserAlbums(e,s){e.userAlbums=s}},me={async fetchUserPosts({commit:e}){try{const s=await m.Z.get("https://jsonplaceholder.typicode.com/posts");e("setUserPosts",s.data)}catch(s){console.error(s)}},async fetchUserAlbums({commit:e}){try{const s=await m.Z.get("https://jsonplaceholder.typicode.com/photos");e("setUserAlbums",s.data)}catch(s){console.error(s)}}},ve={getUserPosts(e){return e.userPosts},getUserAlbums(e){return e.userAlbums}};var fe=(0,B.MT)({state:de,mutations:pe,actions:me,getters:ve}),he=t(3636),we=t(9417),ge=t(7810);he.vI.add(we.A35);const be=(0,r.ri)(i);be.use(ue),be.use(fe),be.component("font-awesome-icon",ge.GN),be.mount("#app")}},s={};function t(r){var a=s[r];if(void 0!==a)return a.exports;var n=s[r]={exports:{}};return e[r].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,r,a,n){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],n=e[u][2];for(var l=!0,c=0;c<r.length;c++)(!1&n||o>=n)&&Object.keys(t.O).every((function(e){return t.O[e](r[c])}))?r.splice(c--,1):(l=!1,n<o&&(o=n));if(l){e.splice(u--,1);var i=a();void 0!==i&&(s=i)}}return s}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,a,n]}}(),function(){t.d=function(e,s){for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,r){var a,n,o=r[0],l=r[1],c=r[2],i=0;if(o.some((function(s){return 0!==e[s]}))){for(a in l)t.o(l,a)&&(t.m[a]=l[a]);if(c)var u=c(t)}for(s&&s(r);i<o.length;i++)n=o[i],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},r=self["webpackChunksocial_network"]=self["webpackChunksocial_network"]||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(3335)}));r=t.O(r)})();
//# sourceMappingURL=app.9ee6cf33.js.map